#!/usr/bin/env bash

# Define search paths
PATHS=(
  "$HOME/.local/bin"
  "$HOME"
  "$HOME/Downloads"
  "$HOME/Documents"
  "$HOME/Videos"
  "$HOME/Pictures"
  "$HOME/dotfiles"
  "$HOME/.config"
)

# Pretty directory selection with fuzzy filtering
echo "üìÅ Select directory to search:"
selected_dir=$(printf "%s\n" "${PATHS[@]}" | fzf \
  --height=40% \
  --layout=reverse \
  --border=rounded \
  --prompt="üîç Search directories > " \
  --pointer="‚Üí" \
  --marker="‚≠ê" \
  --header="Select a directory to browse" \
  --preview='ls -la {} | head -20' \
  --preview-window=right:60%:border-left)

if [[ -z "$selected_dir" ]]; then
  echo "No directory selected. Exiting."
  exit 1
fi

echo "üéØ Selected: $selected_dir"
cd "$selected_dir"

# Source the fuzzy script
source "$HOME/.local/bin/fzf/fuzzy-x-gum"
# source "$HOME/.local/bin/fzf/fuzzy-x"
