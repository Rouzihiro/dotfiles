#!/bin/zsh

# List directory sizes in current directory, sorted by human-readable size
# Zsh version - handles hidden dirs and special characters better than bash

() {
  # Use glob qualifiers to match directories (including hidden)
  local dirs=(*(/ND))
  local hidden_dirs=(.*(/ND))
  
  # Combine regular and hidden directories (skip . and ..)
  local all_dirs=($dirs ${hidden_dirs:#.(|.)})
  
  # Calculate sizes and sort
  du -sh -- $all_dirs | sort -hr
}
