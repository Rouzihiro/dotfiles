cmd context ${{
    case "$f" in
        *.pdf)
            choice=$(echo -e "Zathura\nEvince\nCancel" | fzf --height=30% --reverse --prompt="Open PDF with: ")
            case "$choice" in
                Zathura) zathura "$f" & ;;
                Evince) evince "$f" & ;;
                *) ;;
            esac
            ;;
        *.mp4|*.mkv|*.avi)
            choice=$(echo -e "MPV\nVLC\nCancel" | fzf --height=30% --reverse --prompt="Open video with: ")
            case "$choice" in
                MPV) mpv "$f" & ;;
                VLC) vlc "$f" & ;;
                *) ;;
            esac
            ;;
        *.jpg|*.png|*.jpeg|*.webp)
            choice=$(echo -e "üñºÔ∏è View (sxiv)\nüõ†Ô∏è Edit (GIMP)\nüîß Image Operations\nCancel" | fzf --height=30% --reverse --prompt="Image action: ")
            case "$choice" in
                "üñºÔ∏è View (sxiv)") sxiv "$f" & ;;
                "üõ†Ô∏è Edit (GIMP)") gimp "$f" & ;;
                "üîß Image Operations") 
                    if [ -n "$id" ]; then
                        lf -remote "send $id image-ops"
                    else
                        image-ops
                    fi
                    ;;
                *) ;;
            esac
            ;;
        *.html|*.htm) firefox "$f" & ;;
        *.md|*.txt) nvim "$f" & ;;
        *) lf -remote "send $id open" ;;
    esac
}}
